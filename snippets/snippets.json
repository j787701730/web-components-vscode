{
  "创建 Web Components 模板": {
    "prefix": "js-webComponents",
    "body": [
      "{",
      "  const template = document.createElement('template');",
      "  template.innerHTML = /*html*/ `",
      "    <style>",
      "     :host {",
      "       display: contents;",
      "     }",
      "     ::slotted(*) { }",
      "    </style>",
      "    <div>",
      "      <slot></slot>",
      "    </div>",
      "  `;",
      "",
      "  class Component extends HTMLElement {",
      "    constructor() {",
      "      super();",
      "      this.attachShadow({ mode: 'open' });",
      "    }",
      "",
      "    /** 声明需要监听的属性 */",
      "    static get observedAttributes() {",
      "      return [];",
      "    }",
      "",
      "    /** 监听属性变化 */",
      "    attributeChangedCallback(name, oldVal, newVal) {}",
      "",
      "    /** 组件挂载到 DOM */",
      "    connectedCallback() {",
      "      // 标记是否已初始化，避免重复执行",
      "      if (this._initialized) return;",
      "      this._initialized = true;",
      "      this.shadowRoot.appendChild(template.content.cloneNode(true));",
      "    }",
      "",
      "    /** 组件从 DOM 移除 */",
      "    disconnectedCallback() {",
      "      this._initialized = false; // 若组件重新挂载需重新初始化",
      "      this.shadowRoot.innerHTML = ''",
      "    }",
      "  }",
      "  customElements.define('${TM_FILENAME_BASE}', Component);",
      "}",
      ""
    ],
    "description": "创建 Web Component 模板"
  },
  "创建 DispatchEvent": {
    "prefix": "js-dispatchEvent",
    "body": [
      "/* ! 添加 $1 自定义事件 */",
      "const event = new CustomEvent('$1', {",
      "  detail: {",
      "    value: ${2:''}",
      "  }",
      "});",
      "this.dispatchEvent(event);",
      ""
    ],
    "description": "创建 DispatchEvent"
  },
  "创建 AbortController": {
    "prefix": "js-abortController",
    "body": ["this.controller = new AbortController();"],
    "description": "创建 AbortController"
  },
  "abort AbortController": {
    "prefix": "js-abortController",
    "body": ["this.controller?.abort();"],
    "description": "创建 AbortController"
  },
  "创建 addEventListener signal": {
    "prefix": "js-addEventListener",
    "body": [
      "$1.addEventListener(",
      "  '$2',",
      "  (e) => {",
      "    $3",
      "  }, ",
      "  { signal: this.controller.signal }, ",
      ");"
    ],
    "description": "创建 addEventListener signal"
  }
}
